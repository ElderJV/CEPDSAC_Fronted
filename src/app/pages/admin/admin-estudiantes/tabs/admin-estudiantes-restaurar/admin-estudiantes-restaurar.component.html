<div class="admin-container">
    <div class="header-section">
        <div class="d-flex justify-content-between align-items-start mb-2">
            <h2>
                <lucide-icon [img]="UserX" class="me-2"></lucide-icon>
                Restaurar Estudiantes Suspendidos
            </h2>
            <button class="btn btn-outline-light text-white d-flex align-items-center gap-2 btn-volver"
                [routerLink]="['/admin/estudiantes']">
                <lucide-icon [img]="ArrowLeft" size="18"></lucide-icon>
                Volver
            </button>
        </div>
        <p class="text-white opacity-75 mb-0">
            Gestiona y reactiva el acceso de estudiantes que han sido eliminados o suspendidos del sistema.
        </p>
    </div>

    @if (loading()) {
    <div class="text-center mt-5">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Cargando...</span>
        </div>
    </div>
    }

    @if (!loading() && estudiantes().length === 0) {
    <div class="alert-custom">
        <div class="alert-icon">
            <lucide-icon [img]="Info"></lucide-icon>
        </div>
        <div class="alert-content">
            No hay estudiantes suspendidos actualmente.
        </div>
    </div>
    }

    @if (!loading() && estudiantes().length > 0) {
    <div class="card border-0 shadow-sm">
        <div class="card-body p-0">
            <div class="table-responsive">
                <table class="table table-hover align-middle mb-0">
                    <thead class="table-light">
                        <tr>
                            <th class="ps-4">ID</th>
                            <th>Nombre Completo</th>
                            <th>Documento</th>
                            <th>Correo</th>
                            <th>Estado</th>
                            <th class="text-end pe-4">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (e of estudiantes(); track e.idUsuario) {
                        <tr>
                            <td class="ps-4 fw-bold text-secondary">#{{ e.idUsuario }}</td>
                            <td class="fw-bold text-dark">{{ e.nombre }} {{ e.apellido }}</td>
                            <td>
                                <span class="badge bg-secondary me-1">{{ e.inicialesTipoIdentificacion }}</span>
                                {{ e.numeroIdentificacion }}
                            </td>
                            <td>{{ e.correo }}</td>
                            <td>
                                <span class="badge bg-danger bg-opacity-10  px-3 py-2 rounded-pill">
                                    SUSPENDIDO
                                </span>
                            </td>
                            <td class="text-end pe-4">
                                <button class="btn btn-sm btn-outline-success d-inline-flex align-items-center gap-2"
                                    (click)="restaurar(e)" title="Restaurar acceso">
                                    <lucide-icon [img]="RefreshCw" size="16"></lucide-icon>
                                    Restaurar
                                </button>
                            </td>
                        </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    }
</div>